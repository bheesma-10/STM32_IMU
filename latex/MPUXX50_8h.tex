\hypertarget{MPUXX50_8h}{}\doxysection{Drivers/\+IMU/\+Inc/\+MPUXX50.h File Reference}
\label{MPUXX50_8h}\index{Drivers/IMU/Inc/MPUXX50.h@{Drivers/IMU/Inc/MPUXX50.h}}


header file for MPUxx50 operations  


{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$math.\+h$>$}\newline
{\ttfamily \#include \char`\"{}IMU\+\_\+\+I2\+C.\+h\char`\"{}}\newline
Include dependency graph for MPUXX50.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{MPUXX50_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{MPUXX50_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structIMU__t}{IMU\+\_\+t}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{MPUXX50_8h_ac5a945020d3528355cda82d383676736}\label{MPUXX50_8h_ac5a945020d3528355cda82d383676736}} 
\#define {\bfseries RAD2\+DEG}~57.\+2957795131
\item 
\mbox{\Hypertarget{MPUXX50_8h_a7895d37ce48f9f3225be1ad66ae20f6e}\label{MPUXX50_8h_a7895d37ce48f9f3225be1ad66ae20f6e}} 
\#define {\bfseries WHO\+\_\+\+AM\+\_\+\+I\+\_\+6050\+\_\+\+ANS}~0x68
\item 
\mbox{\Hypertarget{MPUXX50_8h_afa6cf0fd3b00f15481f8cf33c6854895}\label{MPUXX50_8h_afa6cf0fd3b00f15481f8cf33c6854895}} 
\#define {\bfseries WHO\+\_\+\+AM\+\_\+\+I\+\_\+9250\+\_\+\+ANS}~0x71
\item 
\mbox{\Hypertarget{MPUXX50_8h_a73f4728dfb5c82afcea7bee729af205c}\label{MPUXX50_8h_a73f4728dfb5c82afcea7bee729af205c}} 
\#define {\bfseries REG\+\_\+\+WHO\+\_\+\+AM\+\_\+I}~0x75
\item 
\mbox{\Hypertarget{MPUXX50_8h_aa80ccf68f0f11e35a8ff77039922b43d}\label{MPUXX50_8h_aa80ccf68f0f11e35a8ff77039922b43d}} 
\#define {\bfseries REG\+\_\+\+GYRO\+\_\+\+CONFIG}~0x1B
\item 
\mbox{\Hypertarget{MPUXX50_8h_a7b8e959d8f7fc470648511d3917efee5}\label{MPUXX50_8h_a7b8e959d8f7fc470648511d3917efee5}} 
\#define {\bfseries REG\+\_\+\+ACCEL\+\_\+\+CONFIG}~0x1C
\item 
\mbox{\Hypertarget{MPUXX50_8h_aa22e489fc09f853f23e2586aac531ed6}\label{MPUXX50_8h_aa22e489fc09f853f23e2586aac531ed6}} 
\#define {\bfseries REG\+\_\+\+PWR\+\_\+\+MGMT\+\_\+1}~0x6B
\item 
\mbox{\Hypertarget{MPUXX50_8h_aab8616dc1b72431e52f4b5370022933e}\label{MPUXX50_8h_aab8616dc1b72431e52f4b5370022933e}} 
\#define {\bfseries REG\+\_\+\+ACCEL\+\_\+\+XOUT\+\_\+H}~0x3B
\item 
\mbox{\Hypertarget{MPUXX50_8h_a85d18c4a4fbf5c526712a67b7edcc488}\label{MPUXX50_8h_a85d18c4a4fbf5c526712a67b7edcc488}} 
\#define {\bfseries REG\+\_\+\+GYRO\+\_\+\+XOUT\+\_\+H}~0x43
\item 
\mbox{\Hypertarget{MPUXX50_8h_a0ba60b4b9c2e5320ee0963369c54d69f}\label{MPUXX50_8h_a0ba60b4b9c2e5320ee0963369c54d69f}} 
\#define {\bfseries I2\+C\+\_\+\+TIMOUT\+\_\+\+MS}~1000
\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{MPUXX50_8h_a3ce1bfed581057e207b601ee8baff99a}\label{MPUXX50_8h_a3ce1bfed581057e207b601ee8baff99a}} 
enum {\bfseries gyroscope\+Full\+Scale\+Range} \{ {\bfseries GFSR\+\_\+250\+DPS}
, {\bfseries GFSR\+\_\+500\+DPS}
, {\bfseries GFSR\+\_\+1000\+DPS}
, {\bfseries GFSR\+\_\+2000\+DPS}
 \}
\item 
\mbox{\Hypertarget{MPUXX50_8h_a724fae8eb3bbe6712ca018a191404ca2}\label{MPUXX50_8h_a724fae8eb3bbe6712ca018a191404ca2}} 
enum {\bfseries accelerometer\+Full\+Scale\+Range} \{ {\bfseries AFSR\+\_\+2G}
, {\bfseries AFSR\+\_\+4G}
, {\bfseries AFSR\+\_\+8G}
, {\bfseries AFSR\+\_\+16G}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
uint8\+\_\+t \mbox{\hyperlink{MPUXX50_8h_a41406f96674d3d4645cb0a315b3e4386}{MPU\+\_\+begin}} (\mbox{\hyperlink{structI2CHandle__t}{I2\+CHandle\+\_\+t}} $\ast$hi2c, \mbox{\hyperlink{structIMU__t}{IMU\+\_\+t}} $\ast$imu, uint8\+\_\+t addr, uint8\+\_\+t a\+Scale, uint8\+\_\+t g\+Scale)
\begin{DoxyCompactList}\small\item\em Set the IMU address, check for connection, reset IMU, and set full range scale. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{MPUXX50_8h_ab710690b54ebae0cdc11c7c334ec44e7}{MPU\+\_\+calibrate\+Gyro}} (\mbox{\hyperlink{structI2CHandle__t}{I2\+CHandle\+\_\+t}} $\ast$hi2c, \mbox{\hyperlink{structIMU__t}{IMU\+\_\+t}} $\ast$imu, uint16\+\_\+t num\+Cal\+Points)
\begin{DoxyCompactList}\small\item\em Find offsets for each axis of gyroscope. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{MPUXX50_8h_a322aec407601b695a1e2a8268e061c8e}{MPU\+\_\+read\+Raw\+Data}} (\mbox{\hyperlink{structI2CHandle__t}{I2\+CHandle\+\_\+t}} $\ast$hi2c, \mbox{\hyperlink{structIMU__t}{IMU\+\_\+t}} $\ast$imu)
\begin{DoxyCompactList}\small\item\em Read raw data from IMU. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{MPUXX50_8h_af86003cf886e9395bac441edbde09cd3}{MPU\+\_\+readscaled\+Data}} (\mbox{\hyperlink{structI2CHandle__t}{I2\+CHandle\+\_\+t}} $\ast$hi2c, \mbox{\hyperlink{structIMU__t}{IMU\+\_\+t}} $\ast$imu)
\begin{DoxyCompactList}\small\item\em Calculate the real world sensor values. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{MPUXX50_8h_a31a5897fd970e24c92b4095d6799fa72}{MPU\+\_\+write\+Gyro\+Full\+Scale\+Range}} (\mbox{\hyperlink{structI2CHandle__t}{I2\+CHandle\+\_\+t}} $\ast$hi2c, \mbox{\hyperlink{structIMU__t}{IMU\+\_\+t}} $\ast$imu, uint8\+\_\+t g\+Scale)
\begin{DoxyCompactList}\small\item\em Set the gyroscope full scale range. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{MPUXX50_8h_aceefd743bcc33ef42c2094a977673394}{MPU\+\_\+write\+Acc\+Full\+Scale\+Range}} (\mbox{\hyperlink{structI2CHandle__t}{I2\+CHandle\+\_\+t}} $\ast$hi2c, \mbox{\hyperlink{structIMU__t}{IMU\+\_\+t}} $\ast$imu, uint8\+\_\+t a\+Scale)
\begin{DoxyCompactList}\small\item\em Set the accelerometer full scale range. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{MPUXX50_8h_adb95e353ee81fc27a17f2b0276233a4e}{get\+\_\+rawgyro}} (\mbox{\hyperlink{structI2CHandle__t}{I2\+CHandle\+\_\+t}} $\ast$hi2c, uint8\+\_\+t $\ast$gyro\+\_\+buf)
\begin{DoxyCompactList}\small\item\em Read raw gyro data from IMU. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{MPUXX50_8h_aefade2320350247fccc7d8dffe7baef8}{get\+\_\+rawaccel}} (\mbox{\hyperlink{structI2CHandle__t}{I2\+CHandle\+\_\+t}} $\ast$hi2c, uint8\+\_\+t $\ast$accel\+\_\+buf)
\begin{DoxyCompactList}\small\item\em Read raw accel data from IMU. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
header file for MPUxx50 operations 



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{MPUXX50_8h_aefade2320350247fccc7d8dffe7baef8}\label{MPUXX50_8h_aefade2320350247fccc7d8dffe7baef8}} 
\index{MPUXX50.h@{MPUXX50.h}!get\_rawaccel@{get\_rawaccel}}
\index{get\_rawaccel@{get\_rawaccel}!MPUXX50.h@{MPUXX50.h}}
\doxysubsubsection{\texorpdfstring{get\_rawaccel()}{get\_rawaccel()}}
{\footnotesize\ttfamily void get\+\_\+rawaccel (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structI2CHandle__t}{I2\+CHandle\+\_\+t}} $\ast$}]{hi2c,  }\item[{uint8\+\_\+t $\ast$}]{accel\+\_\+buf }\end{DoxyParamCaption})}



Read raw accel data from IMU. 


\begin{DoxyParams}{Parameters}
{\em hi2c} & pointer to I2C structure \\
\hline
{\em accel\+\_\+buf} & buffer to store accel data from IMU \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{MPUXX50_8h_adb95e353ee81fc27a17f2b0276233a4e}\label{MPUXX50_8h_adb95e353ee81fc27a17f2b0276233a4e}} 
\index{MPUXX50.h@{MPUXX50.h}!get\_rawgyro@{get\_rawgyro}}
\index{get\_rawgyro@{get\_rawgyro}!MPUXX50.h@{MPUXX50.h}}
\doxysubsubsection{\texorpdfstring{get\_rawgyro()}{get\_rawgyro()}}
{\footnotesize\ttfamily void get\+\_\+rawgyro (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structI2CHandle__t}{I2\+CHandle\+\_\+t}} $\ast$}]{hi2c,  }\item[{uint8\+\_\+t $\ast$}]{gyro\+\_\+buf }\end{DoxyParamCaption})}



Read raw gyro data from IMU. 


\begin{DoxyParams}{Parameters}
{\em hi2c} & pointer to I2C structure \\
\hline
{\em gyro\+\_\+buf} & buffer to store gyro data from IMU \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{MPUXX50_8h_a41406f96674d3d4645cb0a315b3e4386}\label{MPUXX50_8h_a41406f96674d3d4645cb0a315b3e4386}} 
\index{MPUXX50.h@{MPUXX50.h}!MPU\_begin@{MPU\_begin}}
\index{MPU\_begin@{MPU\_begin}!MPUXX50.h@{MPUXX50.h}}
\doxysubsubsection{\texorpdfstring{MPU\_begin()}{MPU\_begin()}}
{\footnotesize\ttfamily uint8\+\_\+t MPU\+\_\+begin (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structI2CHandle__t}{I2\+CHandle\+\_\+t}} $\ast$}]{hi2c,  }\item[{\mbox{\hyperlink{structIMU__t}{IMU\+\_\+t}} $\ast$}]{imu,  }\item[{uint8\+\_\+t}]{addr,  }\item[{uint8\+\_\+t}]{a\+Scale,  }\item[{uint8\+\_\+t}]{g\+Scale }\end{DoxyParamCaption})}



Set the IMU address, check for connection, reset IMU, and set full range scale. 


\begin{DoxyParams}{Parameters}
{\em hi2c} & pointer to I2C structure \\
\hline
{\em imu} & pointer to MPUxx50 structure \\
\hline
{\em addr} & Hex address based on AD0 pin -\/ 0x68 low or 0x69 high. \\
\hline
{\em a\+Scale} & Set accelerometer full scale range\+: 0 for ±2g, 1 for ±4g, 2 for ±8g, and 3 for ±16g. \\
\hline
{\em g\+Scale} & Set gyroscope full scale range\+: 0 for ±250°/s, 1 for ±500°/s, 2 for ±1000°/s, and 3 for ±2000°/s. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{MPUXX50_8h_ab710690b54ebae0cdc11c7c334ec44e7}\label{MPUXX50_8h_ab710690b54ebae0cdc11c7c334ec44e7}} 
\index{MPUXX50.h@{MPUXX50.h}!MPU\_calibrateGyro@{MPU\_calibrateGyro}}
\index{MPU\_calibrateGyro@{MPU\_calibrateGyro}!MPUXX50.h@{MPUXX50.h}}
\doxysubsubsection{\texorpdfstring{MPU\_calibrateGyro()}{MPU\_calibrateGyro()}}
{\footnotesize\ttfamily void MPU\+\_\+calibrate\+Gyro (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structI2CHandle__t}{I2\+CHandle\+\_\+t}} $\ast$}]{hi2c,  }\item[{\mbox{\hyperlink{structIMU__t}{IMU\+\_\+t}} $\ast$}]{imu,  }\item[{uint16\+\_\+t}]{num\+Cal\+Points }\end{DoxyParamCaption})}



Find offsets for each axis of gyroscope. 


\begin{DoxyParams}{Parameters}
{\em hi2c} & pointer to I2C structure \\
\hline
{\em imu} & Pointer to MPUxx50 structure ~\newline
 \\
\hline
{\em num\+Cal\+Points} & Number of data points to average. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{MPUXX50_8h_a322aec407601b695a1e2a8268e061c8e}\label{MPUXX50_8h_a322aec407601b695a1e2a8268e061c8e}} 
\index{MPUXX50.h@{MPUXX50.h}!MPU\_readRawData@{MPU\_readRawData}}
\index{MPU\_readRawData@{MPU\_readRawData}!MPUXX50.h@{MPUXX50.h}}
\doxysubsubsection{\texorpdfstring{MPU\_readRawData()}{MPU\_readRawData()}}
{\footnotesize\ttfamily void MPU\+\_\+read\+Raw\+Data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structI2CHandle__t}{I2\+CHandle\+\_\+t}} $\ast$}]{hi2c,  }\item[{\mbox{\hyperlink{structIMU__t}{IMU\+\_\+t}} $\ast$}]{imu }\end{DoxyParamCaption})}



Read raw data from IMU. 


\begin{DoxyParams}{Parameters}
{\em hi2c} & pointer to I2C structure \\
\hline
{\em imu} & pointer to MPUxx50 structure ~\newline
 \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{MPUXX50_8h_af86003cf886e9395bac441edbde09cd3}\label{MPUXX50_8h_af86003cf886e9395bac441edbde09cd3}} 
\index{MPUXX50.h@{MPUXX50.h}!MPU\_readscaledData@{MPU\_readscaledData}}
\index{MPU\_readscaledData@{MPU\_readscaledData}!MPUXX50.h@{MPUXX50.h}}
\doxysubsubsection{\texorpdfstring{MPU\_readscaledData()}{MPU\_readscaledData()}}
{\footnotesize\ttfamily void MPU\+\_\+readscaled\+Data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structI2CHandle__t}{I2\+CHandle\+\_\+t}} $\ast$}]{hi2c,  }\item[{\mbox{\hyperlink{structIMU__t}{IMU\+\_\+t}} $\ast$}]{imu }\end{DoxyParamCaption})}



Calculate the real world sensor values. 


\begin{DoxyParams}{Parameters}
{\em hi2c} & pointer to I2C structure \\
\hline
{\em imu} & Pointer to MPUxx50 structure ~\newline
 \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{MPUXX50_8h_aceefd743bcc33ef42c2094a977673394}\label{MPUXX50_8h_aceefd743bcc33ef42c2094a977673394}} 
\index{MPUXX50.h@{MPUXX50.h}!MPU\_writeAccFullScaleRange@{MPU\_writeAccFullScaleRange}}
\index{MPU\_writeAccFullScaleRange@{MPU\_writeAccFullScaleRange}!MPUXX50.h@{MPUXX50.h}}
\doxysubsubsection{\texorpdfstring{MPU\_writeAccFullScaleRange()}{MPU\_writeAccFullScaleRange()}}
{\footnotesize\ttfamily void MPU\+\_\+write\+Acc\+Full\+Scale\+Range (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structI2CHandle__t}{I2\+CHandle\+\_\+t}} $\ast$}]{hi2c,  }\item[{\mbox{\hyperlink{structIMU__t}{IMU\+\_\+t}} $\ast$}]{imu,  }\item[{uint8\+\_\+t}]{a\+Scale }\end{DoxyParamCaption})}



Set the accelerometer full scale range. 


\begin{DoxyParams}{Parameters}
{\em hi2c} & pointer to I2C structure \\
\hline
{\em imu} & pointer to MPUxx50 structure ~\newline
 \\
\hline
{\em a\+Scale} & Set 0 for ±2g, 1 for ±4g, 2 for ±8g, and 3 for ±16g. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{MPUXX50_8h_a31a5897fd970e24c92b4095d6799fa72}\label{MPUXX50_8h_a31a5897fd970e24c92b4095d6799fa72}} 
\index{MPUXX50.h@{MPUXX50.h}!MPU\_writeGyroFullScaleRange@{MPU\_writeGyroFullScaleRange}}
\index{MPU\_writeGyroFullScaleRange@{MPU\_writeGyroFullScaleRange}!MPUXX50.h@{MPUXX50.h}}
\doxysubsubsection{\texorpdfstring{MPU\_writeGyroFullScaleRange()}{MPU\_writeGyroFullScaleRange()}}
{\footnotesize\ttfamily void MPU\+\_\+write\+Gyro\+Full\+Scale\+Range (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structI2CHandle__t}{I2\+CHandle\+\_\+t}} $\ast$}]{hi2c,  }\item[{\mbox{\hyperlink{structIMU__t}{IMU\+\_\+t}} $\ast$}]{imu,  }\item[{uint8\+\_\+t}]{g\+Scale }\end{DoxyParamCaption})}



Set the gyroscope full scale range. 


\begin{DoxyParams}{Parameters}
{\em hi2c} & pointer to I2C structure \\
\hline
{\em imu} & pointer to MPUxx50 structure ~\newline
 \\
\hline
{\em g\+Scale} & Set 0 for ±250°/s, 1 for ±500°/s, 2 for ±1000°/s, and 3 for ±2000°/s. \\
\hline
\end{DoxyParams}
